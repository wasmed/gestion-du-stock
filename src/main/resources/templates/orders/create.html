<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Créer une Commande</title>
</head>
<body>
<h1>Créer une nouvelle Commande</h1>

<form th:action="@{/orders/create}" method="get">
    <div>
        <label for="nombrePersonne">Nombre de personnes:</label>
        <input type="number" id="nombrePersonne" name="nombrePersonne" min="1" required th:value="${nombrePersonne}"/>
    </div>
    <button type="submit">Rechercher une table</button>
</form>

<hr/>

<form th:action="@{/orders/create}" method="post">

    <div>
        <label for="clientEmail">Email du Client (laisser vide pour un invité)</label>
        <input type="email" id="clientEmail" name="clientEmail" placeholder="exemple@email.com" />
    </div>

    <div>
        <label for="tableId">Sélectionner une table:</label>
        <select id="tableId" name="tableId" required>
            <option th:each="table : ${tables}" th:value="${table.identifiant}" th:text="${'Table ' + table.numeroTable + ' (' + table.nombrePersonne + ' places)'}"></option>
        </select>
    </div>

    <br/>
    <h3>Sélectionner les plats:</h3>
    <div th:each="plat : ${plats}">
        <input type="checkbox" th:id="${'plat-' + plat.identifiant}" name="platIds" th:value="${plat.identifiant}" />
        <label th:for="${'plat-' + plat.identifiant}" th:text="${plat.nom} + ' - ' + ${plat.prix} + ' €'"></label>
    </div>

    <br/>
    <h3>Sélectionner les menus:</h3>
    <div th:each="menu : ${menus}">
        <input type="checkbox" th:id="${'menu-' + menu.id}" name="menuIds" th:value="${menu.id}" />
        <label th:for="${'menu-' + menu.id}" th:text="${menu.nom} + ' - ' + ${menu.prix} + ' €'"></label>
    </div>

    <br/>
    <button type="submit">Valider la commande</button>
</form>
</body>
</html>