<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Feedbacks des Clients</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>
<body>
<div th:replace="~{fragments/navbar :: nav}"></div>

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Feedbacks des Clients</h1>
        <a th:href="@{/admin/dashboard}" class="btn btn-secondary"><i class="bi bi-arrow-left"></i> Retour au tableau de bord</a>
    </div>

    <table class="table table-hover">
        <thead class="table-light">
        <tr>
            <th>Client</th>
            <th>Commande NÂ°</th>
            <th class="text-center">Note</th>
            <th>Commentaire</th>
            <th>Date</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="feedback : ${feedbacks}">
            <td th:text="${feedback.commande.client.fullName}"></td>
            <td th:text="${feedback.commande.id}"></td>
            <td class="text-center">
                        <span th:each="i : ${#numbers.sequence(1, 5)}"
                              class="bi"
                              th:classappend="${i <= feedback.note ? 'bi-star-fill text-warning' : 'bi-star'}">
                        </span>
            </td>
            <td th:text="${feedback.commentaire}"></td>
            <td th:text="${#temporals.format(feedback.dateSubmitted, 'dd/MM/yyyy HH:mm')}"></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>